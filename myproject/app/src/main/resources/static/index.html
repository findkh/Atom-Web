<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>안녕하세요!</title>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
  #header {
    position: relative;
    height: 70px;
    display: flex;
    align-items: center;
    padding: 0px 10px;
  }
  .navbar {
    padding-top: 0px;
    background-color: white;
  }
  .inner {
    background-color: rgba(24, 183, 43, 0.357);
    width: 1000px;
    height: 57px;
    display: inline;
    margin: 0 auto;
    position: relative;
    min-width: 600px; 
  }
  .inner > .navbar-brand{
    color: white;
    margin-left: 30px;
    font-size: 2em;
    font-weight: bold;
    justify-content: start;
    float: left;
  }
  .inner > .navbar-brand:hover{
    color: white;
    font-size: 2em;
    font-weight: bold;
    float: left;
  }
  .inner > .collapse {
    margin-top: 12px;
  }
  .dropdown-menu {
    background-color: rgba(24, 183, 43, 0.357);
  }
  .dropdown-item {
    background-color: rgba(24, 183, 43, 0);
    color: white;
  }
  .dropdown-item:hover {
    background-color: rgba(255, 255, 255, 0.324);
    color:white
  }
  .loginmenuDiv {
    height: 50px;
    width: 500px;
    box-sizing: border-box;
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    margin: auto 0;
    float: right;
  }
  .loginmenuDiv > .menu {
    list-style: none;
    padding-left: 0px;
  }
  #signupBtn {
    position: absolute;
    right: 40px;
    align-content: center;
    margin-top: 5px;
  }
  #loginBtn {
    position: absolute;
    right: 130px;
    margin-top: 5px;
  }
  #logoutBtn {
    position: absolute;
    right: 40px;
    margin-top: 5px;
  }
  #userNameDiv{
    position: absolute;
    right: 123px;
    margin-top: 12px;
    width: 65px;
    height: 40px;
    display:inline-block;
    text-align: center
  }
  #userName {
    position: block;
    width: 65px;
    right: 123px;
    height: 40px;
    color: white;
    margin-top: 12px;
    font-size: 18px;
  }
  #profile{
    position: absolute;
    right: 190px;
    width:50px; 
    height:50px;
    /* margin-top: 4px; */
    display:inline-block;
    justify-content:center;
    align-items:center;
    border-radius: 100%;
    padding:0.1rem;
    border:1px solid rgba(255, 255, 255, 0.9);
    background-color: rgba(255, 255, 255, 0.566);
    /* margin-bottom: 1.5rem; */
  }
  #profileImg{
    max-width:100%; 
    max-height:100%;
    border-radius: 100%;
    display:block;
  }
  .wrapper {
    margin: 50px auto;
    width: 800px;
    height: auto;
    min-height: 100%;
    padding-bottom: 70px;
  }
  #footer{
    position: relative;
    height: 70px;
    /* display: flex; */
    /* transform: translateY(-100%); */
  }
  .footerNavbar{
    padding-bottom: 0px;
    background-color: white;
  }
  .footerNavbarinner{
    background-color: rgba(24, 183, 43, 0.357);
    width: 1000px;
    height: 70px;
    margin: 0 auto;
  }
  .footerContent{
    text-align: center;
    vertical-align: center;
    margin : 10px
  }
  .footerContent > span > a {
    text-decoration: none;
    color: white;
  }
 
</style>
</head>

<body>

<div id="header">
  <nav class="navbar fixed-top navbar-expand-lg">
    <div class="inner">
      <a class="navbar-brand" href="/index.html">My Project</a>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="/index.html" style="color:white; font-size: 18px;">Home</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="color:white; font-size: 18px;">
              Project List
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="/myboard/index.html">Board</a></li>
              <!-- <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li> -->
            </ul>
          </li>
        </ul>
      </div>
      <div class="loginmenuDiv">
        <ul class="menu">
          <li class="notLogin-Menu"><button id="loginBtn" type="button" class="btn btn-outline-light notLogin">Login</button></li>
          <li class="notLogin-Menu"><button id="signupBtn" type="button" class="btn btn-outline-light notLogin">Singup</button></li>
          <li class="login-Menu"><div id="profile"></div></li>
          <li class="login-Menu"><div id="userNameDiv"><span id="userName" class="login"></span></div></li>
          <li class="login-Menu"><button id="logoutBtn" type="button" class="btn btn-outline-light login">Logout</button></li>
        </ul>
      </div>
    </div>
  </nav>
</div>

<div class="wrapper">  
      <h5><p>이 프로젝트는 자바 실전 프로그래밍을 경험하기 위해 만든 프로젝트 입니다.</p></h5>
      <ul>
        <li><a href="myboard/index.html">게시판</a></li>
      </ul>
</div>

<div id="footer navbar-fixed-bottom">
  <nav class="navbar fixed-bottom navbar-expand-lg footerNavbar">
    <div class="footerNavbarinner">
      <div class="footerContent">
        <span style="color:white">
          <a href="https://github.com/findkh" data-bs-toggle="tooltip" data-bs-placement="top" title="Github로 이동합니다" ><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
            <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
          </svg></a>
          <a href="https://blog.naver.com/watermoon14" data-bs-toggle="tooltip" data-bs-placement="top" title="블로그로 이동합니다"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-journals" viewBox="0 0 16 16">
            <path d="M5 0h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2 2 2 0 0 1-2 2H3a2 2 0 0 1-2-2h1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1H1a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v9a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1H3a2 2 0 0 1 2-2z"/>
            <path d="M1 6v-.5a.5.5 0 0 1 1 0V6h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V9h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 2.5v.5H.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1H2v-.5a.5.5 0 0 0-1 0z"/>
          </svg></a>
        </span><br>
        <span style="color:white; font-size: small;">Copyright 2022. ParkKyounghyun</span>
      </div>
    </div>
  </nav>
</div>


<script>
css(".login-Menu", "display", "none");

fetch("/member/getLoginUser").then(function(response) {
  return response.json();
}).then(function(result) {
  if(result.status == "success") {
    console.log(result);
    // console.log(result.data.photo);
    if(result.data.photo == null) {
      result.data.photo = "default.jpg";
    }
    var img = document.createElement("img");
    img.id = "profileImg";
    img.src="member/photo?filename=50x50_"
    var imgpath = `${result.data.photo}`;
    img.src += imgpath
    img.id = "profileImg";
    console.log(img.src);
    document.querySelector("#profile").appendChild(img);
    document.querySelector("#userName").innerHTML = result.data.name;
    css(".login-Menu", "display", "");
    css(".notLogin-Menu", "display", "none");
  }
});

function css(selector, name, value) {
  var el = document.querySelectorAll(selector);
    for (var e of el) {
      e.style[name] = value;
    }
};

document.querySelector("#loginBtn").onclick = function() {
  location.href="/member/signin.html";
};

document.querySelector("#logoutBtn").onclick = function() {
  fetch("/member/signout").then(function(response) {
    location.href="/index.html";
  });
};

document.querySelector("#signupBtn").onclick = function() {
  location.href="/member/signup.html";
}

</script>
<script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>